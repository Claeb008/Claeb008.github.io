var Skype=window.Skype||{};Skype.webShell=function(){var a,b,c;!function(d){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,b){return function(){return n.apply(d,v.call(arguments,0).concat([a,b]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var b=r[a];delete r[a],t[a]=!0,m.apply(d,b)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,b,c,f){var h,k,l,m,n,s,u=[],v=typeof c;if(f=f||a,"undefined"===v||"function"===v){for(b=!b.length&&c.length?["require","exports","module"]:b,n=0;n<b.length;n+=1)if(m=o(b[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=c?c.apply(q[a],u):void 0,a&&(h&&h.exports!==d&&h.exports!==q[a]?q[a]=h.exports:l===d&&s||(q[a]=l))}else a&&(q[a]=c)},a=b=n=function(a,b,c,e,f){if("string"==typeof a)return p[a]?p[a](b):j(o(a,b).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!b)return;b.splice?(a=b,b=c,c=null):a=d}return b=b||function(){},"function"==typeof c&&(c=e,e=f),e?m(d,a,b,c):setTimeout(function(){m(d,a,b,c)},4),n},n.config=function(a){return n(a)},a._defined=q,c=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},c.amd={jQuery:!0}}(),!function(){"use strict";"undefined"==typeof SKYPE&&(window.SKYPE={}),SKYPE.login=SKYPE.login||{},SKYPE.login.Silent=function(){var a,b={pre:"https://prelogin.skype.net",qa:"https://qalogin.skype.net",live:"https://login.skype.com"},c="/login/silent",d="1.0",e=null,f={},g=2e4,h=null,i=null,j="",k=!1,l=!1,m=null,n={env:"live",client_id:null,redirect_uri:null,microsoft:!1},o=function(a,b){if(null===m&&(m=window.location.host.match(/^(pre|dev).*\.net$/)||document.cookie.indexOf("debug")>-1||window.location.search.indexOf("debug")>-1),m)try{if("object"==typeof b){var c=[];for(var d in b)"skypetoken"===d?c.push(d+": <HIDDEN>"):c.push(d+": "+JSON.stringify(b[d]));a+=" - "+c.join(", ")}else"string"==typeof b&&(a+=" - "+b);a="[silentlogin.js] - "+a,console.log(a)}catch(a){}},p=function(a){if(o("Received message from "+a.origin),i&&a.origin===i){var b=a.data;if("string"==typeof a.data)try{b=JSON.parse(a.data)}catch(a){}o("Message data",b);var c=b.state||null;if(j!==c)return void o("State "+c+" doesn't match the last submitted state "+j);window.clearTimeout(h),f={};for(var d in b)b.hasOwnProperty(d)&&(f[d]=b[d]);u()}},q=function(a){r(),e=document.createElement("iframe"),e.frameBorder=0,e.width="1px",e.height="1px",e.id="silentLoginFrame"+Math.floor(10*Math.random()+1),e.setAttribute("src",a),document.body.appendChild(e),o("Created iFrame: "+a)},r=function(){e&&(document.body.removeChild(e),e=null)},s=function(){if(!n.client_id)throw"[silentlogin.js] client_id not initialized. Call init() first.";n.redirect_uri||(n.redirect_uri=window.location.protocol+"//"+window.location.host+window.location.pathname)},t=function(){return"postMessage"in window&&"object"==typeof JSON&&JSON.parse},u=function(){o("Calling callback function",f),l=!1,"function"==typeof a&&a(f)},v=function(){r(),f={},f.error="timeout",u()},w=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},x=function(){var a=(new Date).getTime();i=b[n.env]||b.live,j="silentloginsdk_"+a;var e={response_type:"postmessage",client_id:n.client_id,redirect_uri:n.redirect_uri,state:j,_accept:d,_nc:a};return n.microsoft&&(e.partner="999"),i+c+"?"+w(e)},y=function(a){if("object"==typeof a){a=a||{},a.hasOwnProperty("callback")&&z(a.callback);for(var b in n)a.hasOwnProperty(b)&&(n[b]=a[b])}return k||(k=!0,window.addEventListener?window.addEventListener("message",p,!1):window.attachEvent("onmessage",p)),this},z=function(b){return"function"==typeof b&&(a=b),this},A=function(){if(!l){if(s(),l=!0,!t())return f={error:"unsupported_browser"},void u();window.clearTimeout(h),h=window.setTimeout(v,g),q(x())}},B=function(){return f.skypetoken||null},C=function(){return f};return{init:y,setCallback:z,load:A,getSkypetoken:B,getFullResponse:C}}()}(),c("window",[],function(){"use strict";return window}),c("document",[],function(){"use strict";return document}),c("performance",[],function(){"use strict";return"undefined"==typeof performance||void 0===performance.mark?b("webShell/Performance"):performance}),c("webShell/Helpers",[],function(){"use strict";var a,c,d=["Ajax","Array","Cookie","Encoding","Environment","Obj","Page","Security","String","Ui","Url"],e={};for(c=0;c<d.length;c++){a=d[c];try{e[a]=b("webShell/Helpers/"+a)}catch(a){}}return e}),c("webShell/Helpers/Array",[],function(){"use strict";var a={};return a.diff=function(a,b){var c,d,e=[];if(Array.isArray(a)===!1||Array.isArray(b)===!1)return[];if(0===b.length)return a;if(0===a.length)return[];for(d=0;d<a.length;d++)c=a[d],b.indexOf(c)===-1&&e.push(c);return e},a.shuffle=function(a){var b,c,d,e,f=a.length;if(Array.isArray(a)===!1)return[];for(b=a.slice(0),d=0;d<f;d++)e=Math.floor(Math.random()*f),c=b[d],b[d]=b[e],b[e]=c;return b},a}),c("webShell/Helpers/Ajax",["window"],function(a){"use strict";var b,c={};return b=function(b,c){function d(b,c){var e,f,g,h,i,j=[],k=Object.keys(b);for(i=0;i<k.length;i++)f=k[i],h=c?c+"["+f+"]":f,g=b[f],e="object"==typeof g?d(g,h):h+"="+a.encodeURIComponent(g),j.push(e);return j.join("&")}function e(){return{statusCode:l.status,statusText:l.statusText,url:b,method:c,duration:j-i}}function f(){var b=l.getResponseHeader("content-type")&&0===l.getResponseHeader("content-type").indexOf("application/json");if(b===!1&&null===l.response)return"";if(b===!0&&null===l.response)return{};if(b===!0)try{return a.JSON.parse(l.response)}catch(a){throw new Error("Ajax call: response expected to be valid JSON")}return l.response}function g(){var b,c;if(4===l.readyState){if(j=a.Date.now(),b=e(),c=f(),l.status>=200&&l.status<300)return m(c,b),void o(c,b);n(c,b),o(c,b)}}function h(b){i=a.Date.now(),l.send(b)}var i,j,k=this,l=new a.XMLHttpRequest,m=function(){},n=function(){},o=function(){};l.open(c,b),l.onreadystatechange=g,k.setHeader=function(a,b){return l.setRequestHeader(a,b),k},k.setTimeout=function(a){return l.timeout=a,k},k.onSuccess=function(a){return m=a,k},k.onError=function(a){return n=a,k},k.onTimeout=function(a){return l.ontimeout=a,k},k.always=function(a){return o=a,k},k.send=function(a){h(a)},k.sendJSON=function(b){if("object"==typeof b&&null!==b&&(b=a.JSON.stringify(b)),"string"!=typeof b)throw new Error("Ajax call: data provided is not JSON");l.setRequestHeader("Content-Type","application/json"),h(b)},k.sendForm=function(a){"object"==typeof a&&(a=d(a)),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h(a)}},c.get=function(a){return new b(a,"GET")},c.post=function(a){return new b(a,"POST")},c.put=function(a){return new b(a,"PUT")},c.del=function(a){return new b(a,"DELETE")},c}),c("webShell/Helpers/Cookie",["window","document"],function(a,b){"use strict";function c(a,b){var c,d,e="string"==typeof b&&""!==b?b:g,f=Object.keys(a),h=[];if(a.hasOwnProperty("singleValue"))return a.singleValue;for(c=0;c<f.length;c++)d=f[c],h.push(d+"="+a[d]);return h.join(e)}function d(a,b){var c,d,e="string"==typeof b&&""!==b?b:g,f={},h=[],i=[];for(h=a.split(e),c=0;c<h.length;c++)d=h[c],i=d.indexOf("=")!==-1?h[c].split("="):["singleValue",d],f[i[0].trim()]=i[1].trim();return f}function e(a){var b,c,d=Date.now();if("number"==typeof a)return b=1e3*parseInt(a,10)+d,c=new Date(b)}var f={},g=":";return f.getCookie=function(a){var b,c;return c=f.parse(),b=f.hasCookie(a)===!0?c[a]:{}},f.setCookie=function(a,d,g,h,i,j){var k=[],l="",m=Math.round(Date.now()/1e3),n="object"==typeof d?d:{};f.hasCookie(a)===!1&&(n.TS=m),n.TM=m,n=c(n),"string"==typeof g&&""!==g&&k.push("domain="+g),"string"==typeof h&&""!==h&&k.push("path="+h),"string"==typeof i&&k.push("expires="+i),"number"==typeof i&&(i=e(i),k.push("expires="+i.toGMTString())),"object"==typeof i&&k.push("expires="+i.toGMTString()),void 0!==typeof j&&j===!0&&k.push("secure=true"),l=k.length>0?";"+k.join(";"):"",b.cookie=a+"="+n+l},f.hasCookie=function(a){var b=f.parse();return b.hasOwnProperty(a)},f.getCookieValue=function(a,b){var c=f.getCookie(a);return c="object"==typeof c?c:{},void 0!==c[b]?c[b]:void 0},f.setCookieValue=function(a,b,c,d,e,g,h){var i=f.getCookie(a);i="object"==typeof i?i:{},void 0!==b&&""!==b||(b="singleValue"),i[b]=c,f.setCookie(a,i,d,e,g,h)},f.removeCookie=function(a,b,c,d,g){var h=d||e(-1);f.hasCookie(a)!==!1&&f.setCookie(a,"",b,c,h,g)},f.parse=function(){var a,c,e,f,g,h={},i=[];if(""===b.cookie)return h;for(i=b.cookie.split(";"),a=0;a<i.length;a++)c=i[a],e=c.indexOf("="),f=c.substring(0,e).trim(),g=c.substring(e+1).trim(),h[f]=d(g);return h},f}),c("webShell/Helpers/Encoding",[],function(){"use strict";var a={};return a.base64Decode=function(a){var b,c,d,e,f,g,h,i,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",k=0,l=0,m="",n=[];if(!a)return a;a+="";do e=j.indexOf(a.charAt(k++)),f=j.indexOf(a.charAt(k++)),g=j.indexOf(a.charAt(k++)),h=j.indexOf(a.charAt(k++)),i=e<<18|f<<12|g<<6|h,b=i>>16&255,c=i>>8&255,d=255&i,64===g?n[l++]=String.fromCharCode(b):64===h?n[l++]=String.fromCharCode(b,c):n[l++]=String.fromCharCode(b,c,d);while(k<a.length);return m=n.join(""),m.replace(/\0+$/,"")},a.murmurhash=function(a,b){if(void 0!==a&&void 0!==b){for(var c,d,e=3&a.length,f=a.length-e,g=b,h=3432918353,i=461845907,j=0;j<f;)d=255&a.charCodeAt(j)|(255&a.charCodeAt(++j))<<8|(255&a.charCodeAt(++j))<<16|(255&a.charCodeAt(++j))<<24,++j,d=(65535&d)*h+(((d>>>16)*h&65535)<<16)&4294967295,d=d<<15|d>>>17,d=(65535&d)*i+(((d>>>16)*i&65535)<<16)&4294967295,g^=d,g=g<<13|g>>>19,c=5*(65535&g)+((5*(g>>>16)&65535)<<16)&4294967295,g=(65535&c)+27492+(((c>>>16)+58964&65535)<<16);switch(d=0,e){case 3:d^=(255&a.charCodeAt(j+2))<<16;case 2:d^=(255&a.charCodeAt(j+1))<<8;case 1:d^=255&a.charCodeAt(j),d=(65535&d)*h+(((d>>>16)*h&65535)<<16)&4294967295,d=d<<15|d>>>17,d=(65535&d)*i+(((d>>>16)*i&65535)<<16)&4294967295,g^=d}return g^=a.length,g^=g>>>16,g=2246822507*(65535&g)+((2246822507*(g>>>16)&65535)<<16)&4294967295,g^=g>>>13,g=3266489909*(65535&g)+((3266489909*(g>>>16)&65535)<<16)&4294967295,g^=g>>>16,g>>>0}},a.guidCreate=function(){function a(a){var b,c=a.toString(16),d=4-c.length;for(b=0;b<d;b+=1)c="0"+c;return c}var b,c,d=new Array(8);for(c=0;c<d.length;c+=2)b=Math.floor(4294967296*Math.random()),d[c]=a(65535&b),d[c+1]=a(b>>>16),c+1===3&&(d[c+1]="4"+d[c+1].substring(1));return d[0]+d[1]+"-"+d[2]+"-"+d[3]+"-"+d[4]+"-"+d[5]+d[6]+d[7]},a}),c("webShell/Helpers/Environment",["window"],function(a){"use strict";function b(a){var b=a.match(new RegExp("Windows NT ([\\d.]+)")),c={5.1:"XP",5.2:"Server 2003","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"};return b?c[b[1]]:"Unknown"}function c(a){var b=a.match(new RegExp("Windows Phone(?: OS)* ([\\d.]+)"));return b?b[1]:"Unknown"}function d(a){var b=a.match(new RegExp("Mac OS X ([\\d_.]+)"));return b?b[1].replace(/_/g,"."):"Unknown"}function e(a){var b=a.match(new RegExp("Android ([\\d.]+)"));return b?b[1]:"Unknown"}function f(a){var b,c=a.match(new RegExp("(iPhone OS|CPU OS) ([\\d_]+)"));return c?(b="iPhone OS"===c[1]?"iPhone":"iPad",b+" "+c[2].replace(/_/g,".")):"Unknown"}function g(a){var b,c=a.match(new RegExp("MSIE ([\\d.]+)"));return c?c[1]:(b=a.match(new RegExp("rv:([\\d.]+)")),b?b[1]:"")}function h(a,b){var c;return"Safari"===b&&(b="Version"),"Opera"===b&&(b="(?:Version|OPR)"),c=a.match(new RegExp(b+"/([\\d.]+)")),c?c[1]:""}var i=a.navigator.userAgent,j={};return j.getOS=function(a){var b,c,d={"Windows Phone":/windows\sphone/i,"Windows RT":/ arm;/i,Windows:/(windows|win32)/i,iOS:/(iPad|iPhone|iPod)/i,"Mac OS X":/(macintosh|mac os x)/i,Android:/android/i,ChromeOS:/ CrOS /i,Linux:/(linux|x11)/i},e=Object.keys(d);for(c=0;c<e.length;c++)if(b=e[c],a.match(d[b]))return b;return"Unknown"},j.OS=function(){return j.getOS(i)}(),j.getOSVersion=function(a){var g=j.getOS(a);return"Windows"===g||"Windows RT"===g?b(a):"Windows Phone"===g?c(a):"Mac OS X"===g?d(a):"Android"===g?e(a):"iOS"===g?f(a):"Unknown"},j.OSVersion=function(){return j.getOSVersion(i)}(),j.getDeviceType=function(a){var b=/(android|ipod|windows phone|wpdesktop|windows ce|blackberry\w*|meego|webos|palm|symbian|pda|\w*?mobile\w*?|\w*?phone\w*?)/i,c=/tablet|ipad/i;return a.match(c)?"Tablet":a.match(b)?"Mobile":"Desktop"},j.deviceType=function(){return j.getDeviceType(i)}(),j.getBrowserName=function(a){var b,c,d={Opera:"(OPR|Opera)",Edge:"Edge",MSIE:"Trident",Chrome:"Chrome",Firefox:"Firefox",Safari:"Safari"},e=Object.keys(d);for(c=0;c<e.length;c++)if(b=e[c],a.match(new RegExp(d[b])))return b;return"Unknown"},j.browserName=function(){return j.getBrowserName(i)}(),j.getBrowserVersion=function(a){var b=j.getBrowserName(a);return"MSIE"===b?g(a):h(a,b)},j.browserVersion=function(){return j.getBrowserVersion(i)}(),j}),c("webShell/Helpers/Obj",[],function(){"use strict";var a={};return a.extend=function(a,b){if(!b)return a;var c,d,e=Object.keys(b),f=e.length;for(d=0;d<f;d++)c=e[d],a[c]=b[c];return a},a.merge=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=b[c]);return a},a}),c("webShell/Helpers/Page",["document"],function(a){"use strict";var b,c={};return b=function(){function b(a,b,c){a.addEventListener(b,c,!1)}function c(a,b,c){a.attachEvent(b,c)}return a.addEventListener?b:c}(),c.init=function(b){var c,d=a.body.getAttribute("data-params");return null===d?void b.run():(c=d.split(";;"),void b.run.apply(null,c))},c.injectScript=function(c,d,e){var f=a.getElementsByTagName("body").item(0),g=a.createElement("script");g.async=!0,g.setAttribute("type","text/javascript"),g.setAttribute("src",c),b(g,"load",d),"function"==typeof e&&b(g,"error",e),f.appendChild(g)},c}),c("webShell/Helpers/Security",["webShell/Helpers/Cookie","webShell/Config","webShell/Helpers/Encoding"],function(a,b,c){"use strict";var d={};return d.createCsrfToken=function(){var d,e=new Date;return a.hasCookie(b.csrfCookie.name)?d=a.getCookieValue(b.csrfCookie.name,"CSRF"):(e.setTime(e.getTime()+2592e6),d=c.guidCreate(),a.setCookieValue(b.csrfCookie.name,"CSRF",d,b.csrfCookie.domain,b.csrfCookie.path,e.toGMTString())),d},d}),c("webShell/Helpers/String",["window","document"],function(a,b){"use strict";var c={};return c.parseJSONString=function(a){var b;try{b=JSON.parse(a)}catch(a){return!1}return b},c.stripHtmlTags=function(a){var d;return"string"!=typeof a?"":(d=b.createElement("div"),d.innerHTML=a,a=d.textContent,d.innerHTML=a,null!==d.firstElementChild&&(a=c.stripHtmlTags(a)),a)},c.escapeHtmlEntities=function(a){return"string"!=typeof a?"":a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},c.replacePlaceholders=function(b,c){var d,e,f,g,h;if("string"!=typeof b)return"";if("object"!=typeof c||null===c)return b;for(d=Object.keys(c),h=0;h<d.length;h++)e=d[h],f=c[e],g=new RegExp("{"+e+"}","g"),b=b.replace(g,"threadId"===e?a.encodeURIComponent(f):f);return b},c}),c("webShell/Helpers/Ui",["window","document"],function(a,b){"use strict";function c(a,b,c){return{elem:a,eventName:b,boundFunction:c}}function d(a,b,c,d){var f=function(a){var b,e,f=Object.keys(c);for(e=0;e<f.length;e++)if(b=f[e],void 0===a[b]||a[b]!==c[b])return;d()};return e.bind(a,b,f),f}var e={};return e.getPosition=function(a){if("function"!=typeof a.getBoundingClientRect)return!1;var b=a.getBoundingClientRect(),c=b.left-a.style.marginLeft-a.style.marginRight,d=b.top-a.style.marginTop-a.style.marginBottom;return{left:c,top:d}},e.cssTransitionEndEventName=function(){function a(){var a,c=b.createElement("div"),d={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in d)if(d.hasOwnProperty(a)&&void 0!==c.style[a])return d[a];return""}return a()}(),e.windowVisibilityChangeEventName=function(){var a,c={hidden:"visibilitychange",msHidden:"msvisibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange"};for(a in c)if(void 0!==b[a])return c[a];return""}(),e.windowIsVisible=function(){var a,c=["hidden","msHidden","mozHidden","webkitHidden"],d="";for(a=0;a<c.length;a++)if(void 0!==b[c[a]]){d=c[a];break}return function(){return!b[d]}}(),e.windowVisibilityChangeEventName=function(){var a,c={hidden:"visibilitychange",msHidden:"msvisibilitychange",mozHidden:"mozvisibilitychange",webkitHidden:"webkitvisibilitychange"};for(a in c)if(void 0!==b[a])return c[a];return""}(),e.windowIsVisible=function(){var a,c=["hidden","msHidden","mozHidden","webkitHidden"],d="";for(a=0;a<c.length;a++)if(void 0!==b[c[a]]){d=c[a];break}return function(){return!b[d]}}(),e.cssTransitionsSupported=function(){return""!==e.cssTransitionEndEventName}(),e.hasClass=function(a,b){var c=new RegExp("(?:^|\\s)"+b+"(?!\\S)","g");return!!a.className.match(c)},e.addClass=function(a,b){return e.hasClass(a,b)!==!0&&(a.className+=" "+b,!0)},e.removeClass=function(a,b){var c;return e.hasClass(a,b)!==!1&&(c=new RegExp("(?:^|\\s)"+b+"(?!\\S)","g"),a.className=a.className.replace(c,""),!0)},e.bind=function(){function a(a,b,d,e){return e=!!e,a.addEventListener(b,d,e),c(a,b,d)}function d(a,b,d){return a.attachEvent(b,d),c(a,b,d)}return b.addEventListener?a:d}(),e.unbind=function(){function a(a,b,c){a.removeEventListener(b,c,!1)}function c(a,b,c){a.detachEvent(b,c)}return b.removeEventListener?a:c}(),e.makePageVisibleForAT=function(){var a,c=b.querySelectorAll("body > div");for(a=0;a<c.length;a++)c[a].removeAttribute("aria-hidden");return!0},e.makePageInvisibleForAT=function(a){var c,d=b.querySelectorAll("body > div");for(c=0;c<d.length;c++)d[c]!==a&&d[c].setAttribute("aria-hidden","true");return!0},e.bindEvents=function(a,f){var g,h,i,j,k=a,l=[];for(j=0;j<f.length;j++)i=f[j],void 0!==i.bodyEvent&&i.bodyEvent===!0&&(k=b.body),void 0!==i.eventKeys?(h=d(k,i.eventName,i.eventKeys,i.action),g=c(k,i.eventName,h),l.push(g)):(e.bind(k,i.eventName,i.action),g=c(k,i.eventName,i.action),l.push(g));return l},e.unbindEvents=function(a){var b,c;for(c=0;c<a.length;c++)b=a[c],e.unbind(b.elem,b.eventName,b.boundFunction)},e}),c("webShell/Helpers/Url",["window"],function(a){"use strict";var b={};return b.redirect=function(b){a.location.href=b},b.addParam=function(b,c,d,e){d=d||"",e&&(d=a.encodeURIComponent(d));var f=null===c||""===c||void 0===c?d:c+"="+d;return"string"!=typeof b?"":b.indexOf("?")===-1?b.concat("?",f):b.indexOf("=")!==-1?b.concat("&",f):0===b.substr(1).length?b.concat(f):b.concat("&",f)},b.addParams=function(a,c,d){var e,f,g,h=a;if(null===c||"object"!=typeof c)return a;for(e=Object.keys(c),g=0;g<e.length;g++)f=e[g],h=b.addParam(h,f,c[f],d);return h},b.getQueryParams=function(c){var d,e={},f=b.getQueryPart(c);return""===f?{}:(d=f.substr(1).split("&"),d.map(function(b){var c,d,f=b.indexOf("=");return f===-1?void(e[b]=void 0):(c=b.substr(0,f),d=b.substr(f+1),void(e[c]=a.decodeURIComponent(d)))}),e)},b.getQueryPart=function(b){var c;return void 0===b?a.location.search:"string"!=typeof b?"":(c=b.indexOf("?"),b.substr(c))},b.getQueryParamValue=function(a,c){var d;return d=b.getQueryParams(c),void 0===d[a]?"":d[a]},b}),c("webShell/KeyboardNavigation",["webShell/Helpers","document"],function(a,b){"use strict";function c(){var a=e.compareDocumentPosition(g);return a=10===a?Node.DOCUMENT_POSITION_PRECEDING:a,a===Node.DOCUMENT_POSITION_FOLLOWING?i[i.indexOf(e)+1]?i[i.indexOf(e)+1]:i[0]:a===Node.DOCUMENT_POSITION_PRECEDING?i[i.indexOf(e)-1]?i[i.indexOf(e)-1]:i[i.length-1]:void 0}function d(a){if(0!==i.length){g=a.target;var b;for(b=0;b<i.length;b++)if(i[b].contains(g)===!0)return void(e=i[b]);f=c(),f&&(f.setAttribute("tabindex","-1"),f.focus())}}var e,f,g,h=[],i=[],j={};return j.getCurrentRestrictions=function(){return 0===h.length?h:h[h.length-1]},j.liftLastRestriction=function(){return h.length<=1?(h=[],void(i=[])):(h.pop(),void(i=h[h.length-1]))},j.restrictTabbing=function(a){return!!a&&(h.push(a),i=a,e=a[0],!0)},a.Ui.bind(b,"focus",d,!0),j}),c("webShell/Locales",[],function(){"use strict";return{ar:"ar-sa",bg:"bg-bg",cs:"cs-cz",da:"da-dk",de:"de-de",el:"el-gr",en:"en-us",es:"es-es",et:"et-ee",fi:"fi-fi",fr:"fr-fr",he:"he-il",hi:"hi-in",hu:"hu-hu",id:"id-id",it:"it-it",ja:"ja-jp",ko:"ko-kr",no:"nb-no",nl:"nl-nl",pl:"pl-pl","pt-br":"pt-br",pt:"pt-pt",ro:"ro-ro",ru:"ru-ru",sv:"sv-se",tr:"tr-tr",uk:"uk-ua","zh-Hans":"zh-cn","zh-Hant":"zh-tw"}}),c("webShell/Performance",["window"],function(a){"use strict";function b(){var b;return void 0!==a.performance&&void 0!==a.performance.now?a.performance.now():(b=(new a.Date).getTime(),b-f)}function c(a){var b,c,d=[];for(c=0;c<g.length;c++)b=g[c],b.name===a&&d.push(b);return d}function d(a){var b,c;for(c=0;c<g.length;c++)if(b=g[c],b.name===a)return b;return!1}function e(a){var b,c,d=[];for(c=0;c<h.length;c++)b=h[c],b.name===a&&d.push(b);return d}var f=(new a.Date).getTime(),g=[],h=[],i={};return i.mark=function(a){var c={type:"marker",name:a,startTime:b(),duration:0};g.push(c)},i.measure=function(a,b,c){var e,f=d(b),g=d(c);f!==!1&&g!==!1&&(e={type:"measure",name:a,startTime:f.startTime,duration:g.startTime-f.startTime},h.push(e))},i.getEntries=function(){return g.concat(h)},i.getEntriesByType=function(a){return"mark"===a?g:"measure"===a?h:[]},i.getEntriesByName=function(a){var b=c(a),d=e(a);return b.concat(d)},i.now=function(){return b()},i.clearMarks=function(){g=[],h=[]},i}),c("webShell/Events",["window"],function(a){"use strict";var b={},c={},d=-1;return b.subscribe=function(a,b){var e;return c[a]||(c[a]=[]),e=(++d).toString(),c[a].push({token:e,func:b}),e},b.publish=function(b,d){return!!c[b]&&(a.setTimeout(function(){for(var a=c[b],e=a?a.length:0;e--;)a[e].func(b,d)},0),!0)},b.unsubscribe=function(a){var b,d,e;for(b in c)if(c[b])for(d=0,e=c[b].length;d<e;d++)if(c[b][d].token===a)return c[b].splice(d,1),a;return!1},b.getSubscribedEvents=function(){return c},b}),c("webShell/Authentication",["webShell/Helpers","webShell/Config","webShell/Session","window"],function(a,b,c,d){"use strict";var e,f={};return f.getSkypeIdFromJWTPayload=function(a){return void 0===a.skypeid?"":a.skypeid},f.getTokenExpirationFromJWTPayload=function(a){return void 0===a.exp?0:a.exp},f.getJWTPayload=function(b){var c,d,e;return""===b?{}:(c=b.split("."),c.length<2?{}:(d=a.Encoding.base64Decode(c[1]),e=a.String.parseJSONString(d),e===!1?{}:e))},f.getSkypeToken=function(){return c.get("skypeToken")||""},f.storeAuthenticationData=function(a,b,d){c.clear(),c.set("skypeId",a),c.set("skypeToken",b),c.set("skypeTokenExpiration",d)},f.authenticateViaToken=function(a){var b,c,d;return!("string"!=typeof a||!a)&&(b=f.getJWTPayload(a),c=f.getSkypeIdFromJWTPayload(b),d=f.getTokenExpirationFromJWTPayload(b),""!==c&&0!==d&&(f.storeAuthenticationData(c,a,d),!0))},f.refreshToken=function(a,c){function f(b){return b&&b.skypetoken?void a(b.skypetoken):void c(b.error)}void 0===e&&(e=d.SKYPE.login.Silent.init(b.silentLogin).setCallback(f)),e.load()},f.userIsGuest=function(){return void 0!==c.get("skypeId")&&0===c.get("skypeId").indexOf("guest:")},f.getSessionExpiration=function(){var a=parseInt((new Date).getTime()/1e3,10),b=c.get("skypeTokenExpiration");return void 0===b?0:a>=b?0:b-a},f.userIsAuthenticated=function(){return!!(c.get("skypeToken")&&c.get("skypeId")&&c.get("skypeTokenExpiration"))&&0!==f.getSessionExpiration()},f.requestAuthentication=function(){var d,e;c.clear(),d=a.Security.createCsrfToken(),e=a.Url.addParam(b.Urls.loginUrl,"state",d,!0),a.Url.redirect(e)},f.logout=function(d){return c.clear(),"string"==typeof d?void a.Url.redirect(d):void a.Url.redirect(b.Urls.logoutUrl)},f}),c("webShell/Components",["webShell/Helpers","webShell/Config","webShell/Logger","document","performance","window"],function(a,c,d,e,f,g){"use strict";function h(b){return a.Url.addParam(b,"",Date.now())}function i(a){return a.split("/")[2]}function j(b,c){var d,e=c.desiredVersion||"";return void 0!==c.shellQueryParam&&(d=a.Url.getQueryParams(),void 0!==d[c.shellQueryParam]&&(e=d[c.shellQueryParam])),a.Url.addParam(b,c.componentQueryParam,e)}function k(a,b){var c=b.breakCache===!0,d=void 0!==b.versioning;return c===!0&&(a=h(a)),d===!0&&(a=j(a,b.versioning)),a}function l(a,b){return function(){f.mark("webshell_component_"+b+"_scriptLoaded"),a()}}function m(b){return function(){d.log("componentName",b,"componentLoadFailed"),g.setTimeout(function(){a.Url.redirect(c.Urls.Http500Url)},1500)}}var n={};return n.inject=function(c,d,e){function g(a,b,c){return function(){a(b,c,e)}}var h,j,n,o,p,q,r,s=c.length;for(r=0;r<s;r++)n=c[r],j=i(n.name),h=void 0,void 0!==d&&(h=d[j]),p=b(n.name),q=g(p.init,n.params,h),o=k(n.url,n),f.mark("webshell_component_"+j+"_scriptTagInjected"),a.Page.injectScript(o,l(q,j),m(j))},n});var d=["webShell/Config","webShell/Events","webShell/Session","performance","webShell/Notifications/Manager","webShell/Notifications/Favicon","window"];c("webShell/Components/SDK",d,function(a,b,c,d,e,f,g){"use strict";function h(a){return{apiKey:a.apiKey,environment:a.environment,locale:c.get("locale"),userId:c.get("skypeId"),correlationIds:{hostProperty:"SkypePortal",sessionId:c.get("externalSessionId")||c.get("sessionId"),tabId:c.get("sessionId")}}}function i(){var b=c.get("modality");return m=void 0!==b&&a.modalities.indexOf(b)!==-1?b:"Chat"}function j(){var a={},b=c.get("inviteId");return void 0!==b&&(a.inviteId=b),a}function k(h){function k(){var a={displayName:h.me.displayName(),status:h.me.status()};b.publish("userPresenceChanged",a),b.publish("pluginReadyChanged",h.calling.isPluginInstalled())}var l,m;d.mark("webshell_component_SDK_initSucceeded"),h.setAuthProvider({type:"skypeToken",getToken:function(){return c.get("skypeToken")},getExpiryTime:function(){return c.get("skypeTokenExpiration")}}),h.renderContent("#chatComponent"),h.me.displayName.subscribe(function(a){var c={displayName:a,status:h.me.status().toLowerCase()};b.publish("userPresenceChanged",c)}),h.me.status.subscribe(function(a){var c={displayName:h.me.displayName(),status:a.toLowerCase()};b.publish("userPresenceChanged",c)}),l=i(),m=j(),void 0!==c.get("threadId")&&g.setTimeout(function(){h.joinConversation(q,[l],function(a){a.participantsCount.subscribe(function(a){b.publish("participantCountUpdated",{participantsCount:a})}),void 0!==a.isJoiningEnabled&&a.isJoiningEnabled.subscribe(function(c){b.publish("joiningEnabledChanged",{joiningEnabled:c,conversation:a})}),a.init(),b.publish("conversationJoined",{conversation:a}),a.getJoinUrl().then(function(a){b.publish("conversationUrlReceived",{joinLink:a})})},void 0,m)},2e3),h.subscribeUI("swx:timeline:loaded",function(){b.publish("timelineLoaded",d.now())}),h.subscribeUI("swx:chat:loaded",function(){b.publish("chatLoaded",d.now())}),h.activity.unreadConversations.subscribe(function(b){return 0===b?void f.set(a.favicon.default):void f.set(a.favicon.orangeDot)}),b.subscribe("userPresenceUpdated",function(a,b){h.me.displayName()!==b.displayName&&h.me.displayName(b.displayName),h.me.status().toLowerCase()!==b.status&&h.me.status(b.status)}),h.setNotificationHandler(function(a){e.notify(a)}),void 0!==n&&"function"==typeof n.success&&n.success(h),o(p,k)}function l(){void 0!==n&&"function"==typeof n.failure&&n.failure(),b.publish("componentInitFailed",p)}var m,n,o=function(){},p="webShell/Components/SDK",q=c.get("threadId"),r={};return r.init=function(a,b,c){var e=h(a);o=c,n=b,d.mark("webshell_component_SDK_initCalled"),Skype.initialize(e,k,l)},r}),c("webShell/Session",["window"],function(a){"use strict";function b(){e[g]=a.JSON.stringify(d)}function c(a){return"string"==typeof a&&""!==a}var d,e=a.sessionStorage,f={},g="userSession";return f.get=function(a){if(c(a)!==!1)return d[a]},f.set=function(a,e){return c(a)!==!1&&(void 0!==e&&"function"!=typeof e&&(d[a]=e,b(),!0))},f.remove=function(a){return c(a)!==!1&&(delete d[a],b(),!0)},f.clear=function(){d={},e[g]="{}";for(var a in e)e.hasOwnProperty(a)&&delete e[a]},f.getSessionData=function(){var a,b={},c=Object.keys(d);for(a=0;a<c.length;a++)b[c[a]]=d[c[a]];return b},function(){void 0===e[g]&&(e[g]="{}");try{d=a.JSON.parse(e[g])}catch(a){d={},e[g]="{}"}}(),f}),c("webShell/Storage",["window"],function(a){"use strict";return a.localStorage}),c("webShell/UserSettings",["webShell/Helpers","webShell/Storage","window"],function(a,b,c){"use strict";function d(a,c){try{b.setItem(i,a)}catch(e){if(c===!0)return;b.clear(),d(a,!0)}}function e(){d(c.JSON.stringify(h))}function f(a){return"string"==typeof a&&""!==a&&k!==!1}var g,h,i,j={},k=!1,l=29481;return j.get=function(a){if(f(a)!==!1)return h[a]},j.set=function(a,b){return f(a)!==!1&&(void 0!==b&&"function"!=typeof b&&(h[a]=b,e(),!0))},j.remove=function(a){return f(a)!==!1&&(delete h[a],e(),!0)},j.setUser=function(e){if(!e||"string"!=typeof e)return h=void 0,k=!1,!1;g=a.Encoding.murmurhash(e,l),i="settings"+g,null===b.getItem(i)&&d("{}");try{h=c.JSON.parse(b.getItem(i))}catch(a){h={},d("{}")}return k=!0,!0},j}),c("webShell/Eligibility",["webShell/Helpers/Ajax","webShell/Session","webShell/Config"],function(a,b,c){"use strict";var d={};return d.check=function(d){a.get(c.eligibilityCheck.url).setHeader("X-Skypetoken",b.get("skypeToken")).always(function(a,b){d(a,b.statusCode)}).send()},d}),c("webShell/Observable",[],function(){"use strict";function a(a){var b,c=a,d=[];return b=function(a){var b;if(void 0===a)return c;if(a!==c)for(c=a,b=0;b<d.length;b++)d[b](c)},b.subscribe=function(a){return"function"==typeof a&&(d.push(a),!0)},b}var b={};return b.create=function(b){return new a(b)},b}),c("webShell/Templates",["document","webShell/Helpers"],function(a,b){"use strict";function c(a,c){var d,e;for(d=0;d<a.length;d++)e=a[d].getAttribute("data-html"),c.hasOwnProperty(e)!==!1&&"string"==typeof e&&(a[d].innerHTML=b.String.escapeHtmlEntities(c[e]))}function d(a,c){var d,e,f,g=[];for(f=0;f<a.length;f++)e=a[f].getAttribute("data-click"),c.hasOwnProperty(e)!==!1&&"function"==typeof c[e]&&(d=b.Ui.bind(a[f],"click",c[e]),g.push(d));return g}function e(a,c){var d,e,f,g=[];for(f=0;f<a.length;f++)e=a[f].getAttribute("data-events"),c.hasOwnProperty(e)!==!1&&"object"==typeof c[e]&&(d=b.Ui.bindEvents(a[f],c[e]),g=g.concat(d));return g}function f(a,c){var d,e,f,g,h;for(h=0;h<a.length;h++)d=a[h].getAttribute("data-attr").split("|"),2===d.length&&(e=d[0],f=d[1],c.hasOwnProperty(f)!==!1&&"string"==typeof f&&(g=b.String.escapeHtmlEntities(c[f]),a[h].setAttribute(e,g)))}function g(a,b){var c,d;for(c=0;c<a.length;c++)d=a[c].getAttribute("data-element"),b.hasOwnProperty(d)&&b[d]!==!1&&"string"==typeof d&&a[c].appendChild(b[d])}var h={};return h.clone=function(b){var c,d;return c=a.getElementById(b),
null!==c&&(d=c.cloneNode(!0),d.removeAttribute("id"),d)},h.compile=function(a,b){var h,i=[],j=[];return c(a.querySelectorAll("[data-html]"),b),f(a.querySelectorAll("[data-attr]"),b),i=d(a.querySelectorAll("[data-click]"),b),j=e(a.querySelectorAll("[data-events]"),b),g(a.querySelectorAll("[data-element]"),b),h=i.concat(j),{templateElement:a,events:h}},h}),c("webShell/Notifications/AppLevel",["webShell/Helpers","webShell/Events","document"],function(a,b,c){"use strict";function d(a){var b=c.createElement("div");return o.indexOf(a)===-1&&(a=o[0]),b.className="notification "+a,b.setAttribute("role","alert"),b}function e(a){var b=c.createElement("div");b.className="iconfont",a.appendChild(b)}function f(a,b){var d=c.createElement("p");return d.innerHTML=b+" ",a.appendChild(d),d}function g(a,b,d){var e=c.createElement("a");e.href=d,e.target="_blank",e.innerHTML=b,e.className="strong",a.appendChild(e)}function h(b,d,e,f){var g=c.createElement("a");g.href="javascript:void(0);",g.innerHTML=e,g.className="strong",g.setAttribute("role","button"),a.Ui.bind(g,"click",function(a){f(d,a)}),b.appendChild(g)}function i(a,b,c,d){var e=typeof d;"function"===e&&h(a,b,c,d),"string"===e&&g(a,c,d)}function j(a){var c;return void 0!==p[a]&&(c=p[a],c.parentNode.removeChild(c),delete p[a],b.publish("notificationDismissed",a),!0)}function k(a){var b=a.target,c=parseInt(b.getAttribute("data-dismiss-id"),10);a.preventDefault(),j(c)}function l(b,d){var e=c.createElement("div"),f=c.createElement("button"),g=c.createElement("span");e.className="close",f.className="btn transparent circle",f.type="btn",g.className="iconfont cross",g.innerHTML="Dismiss notification",f.setAttribute("data-dismiss-id",d),g.setAttribute("data-dismiss-id",d),a.Ui.bind(f,"click",k),f.appendChild(g),e.appendChild(f),b.appendChild(e)}function m(){return q++,q}var n,o=["warning","success","error","info"],p={},q=0,r={};return r.setNotificationsContainer=function(a){n=a},r.display=function(a,c,g,h){var j,k=d(a),o=m();return k.setAttribute("data-notification-id",o),e(k),j=f(k,c),i(j,o,g,h),l(k,o),n.appendChild(k),p[o]=k,b.publish("notificationDisplayed",o),o},r.dismiss=function(a){var b=j(a);return b},r.getDisplayedNotifications=function(){return p},r.dismissAll=function(){var a;for(a in p)p.hasOwnProperty(a)&&r.dismiss(a)},r}),c("webShell/Notifications/Browser",["window"],function(a){"use strict";function b(){return e++,e}function c(){return void 0!==a.Notification}var d={},e=0,f={};return f.display=function(e,g,h,i,j){var k;if(c()===!1)return!1;if(void 0===i)i=b();else if("number"!=typeof i&&"string"!=typeof i)return!1;if(void 0===j)j={};else if("object"!=typeof j)return!1;return f.requestPermission(),k=new a.Notification(e,{tag:i,icon:h,body:g}),d[i]=k,k.onclick=function(){a.focus(),"function"==typeof j.onclick&&j.onclick()},k.onclose=function(){f.dismiss(i),"function"==typeof j.onclose&&j.onclose()},"function"==typeof j.onshow&&(k.onshow=j.onshow),i},f.dismiss=function(a){return("string"==typeof a||"number"===a)&&(d.hasOwnProperty(a)!==!1&&(d[a].close(),delete d[a],!0))},f.dismissAll=function(){for(var a in d)d.hasOwnProperty(a)&&f.dismiss(a)},f.requestPermission=function(b){c()!==!1&&("denied"!==a.Notification.permission&&"default"!==a.Notification.permission||a.Notification.requestPermission(b))},f}),c("webShell/Notifications/Notification",["webShell/Observable"],function(a){"use strict";var b,c={};return b=function(b,c,d){this.type=b,this.active=a.create(!0),this.title=a.create(c||""),this.description=a.create(d||"")},c.create=function(a,c,d){return new b(a,c,d)},c}),c("webShell/Notifications/Title",["document","window","webShell/Config"],function(a,b,c){"use strict";var d,e,f=c.defaultPageTitle,g={};return g.display=function(c){return g.reset(),d=0,"string"==typeof c?void(a.title=c):1===c.length?void(a.title=c[0]):void(e=b.setInterval(function(){a.title=c[d],d++,d>c.length-1&&(d=0)},1500))},g.reset=function(){b.clearInterval(e),a.title=f},g}),c("webShell/Notifications/Favicon",["document"],function(a){"use strict";var b={};return b.set=function(b){"string"==typeof b&&a.getElementById("favicon").setAttribute("href",b)},b}),c("webShell/Notifications/Toast",["window","webShell/Templates","webShell/Helpers"],function(a,b,c){"use strict";function d(){return g++,g}function e(a){var b;return void 0!==h[a]&&(b=h[a],c.Ui.unbindEvents(i[a]),b.parentNode.removeChild(b),delete h[a],delete i[a],!0)}var f,g=0,h={},i=[],j={};return j.setToastsContainer=function(a){f=a},j.display=function(c,e){var g,j,k;return void 0!==f&&(j=b.clone(c),j!==!1&&(g=b.compile(j,e),k=d(),j=g.templateElement,h[k]=j,i[k]=g.events,f.appendChild(j),a.setTimeout(function(){j.style.display="block"},20),k))},j.dismiss=function(a){var b=e(a);return b},j.getDisplayedToasts=function(){return h},j.dismissAll=function(){var a;for(a in h)h.hasOwnProperty(a)&&j.dismiss(a)},j}),c("webShell/Notifications/Manager",[],function(){"use strict";var a=[],b=!1,c={};return c.notify=function(c){var d;for(d=0;d<a.length;d++)a[d].process(c,b)},c.secondaryNotificationsEnabled=function(a){"boolean"==typeof a&&(b=a)},c.addListener=function(b){return"object"==typeof b&&null!==b&&(void 0!==b.process&&(a.indexOf(b)===-1&&(a.push(b),!0)))},c.removeListener=function(b){var c=a.indexOf(b);c!==-1&&a.splice(c,1)},c.removeAllListeners=function(){a=[]},c.getListeners=function(){return a},c}),c("webShell/Notifications/Listeners/SupportedTypes/Browser",["window","document","webShell/Helpers","webShell/Tracking","webShell/Localization"],function(a,b,c,d,e){"use strict";function f(){return b.hasFocus()!==!0}function g(e){function f(){c.Ui.windowIsVisible()!==!1&&a.setTimeout(function(){e.active(!1)},100)}var g=e.description(),h=e.title()||e.sender.displayName(),i=60,j=120;return g.length>j&&(g=g.substring(0,j-3)+"..."),h.length>i&&(h=h.substring(0,i-3)+"..."),{title:h,message:g,imageUrl:e.sender.avatar(),notificationId:"newChat_"+e.sender.uri(),callbacks:{onclick:function(){e.open(),d.track("incomingMessageNotificatioClicked")},onshow:function(){a.setTimeout(function(){e.active(!1)},7e3),c.Ui.bind(b,c.Ui.windowVisibilityChangeEventName,f),d.track("incomingMessageNotificatioDisplayed")},onclose:function(){c.Ui.unbind(b,c.Ui.windowVisibilityChangeEventName,f)}}}}function h(a){function f(){c.Ui.windowIsVisible()!==!1&&a.dismissBrowserNotification()}var g=e.getTranslation("incoming_call"),h=a.sender.displayName(),i=60;return h.length>i&&(h=h.substring(0,i-3)+"..."),{title:h,message:g,imageUrl:a.sender.avatar(),notificationId:"newCall_"+a.sender.uri(),callbacks:{onclick:function(){d.track("incomingCallBrowserNotificatioClicked")},onshow:function(){c.Ui.bind(b,c.Ui.windowVisibilityChangeEventName,f),d.track("incomingCallBrowserNotificationDisplayed")},onclose:function(){c.Ui.unbind(b,c.Ui.windowVisibilityChangeEventName,f)}}}}var i={};return i={UnreadMessage:{getNotificationData:g,shouldBeDisplayed:f,isSecondary:!0},Audio:{getNotificationData:h,shouldBeDisplayed:f,isSecondary:!1},incomingCallWithNoPlugin:{getNotificationData:h,shouldBeDisplayed:f,isSecondary:!1},ContactRequest:{getNotificationData:g,shouldBeDisplayed:f,isSecondary:!0}}}),c("webShell/Notifications/Listeners/SupportedTypes/Sound",[],function(){"use strict";var a;return a={Audio:{fileId:"incomingCall"},incomingCallWithNoPlugin:{fileId:"incomingCall"},UnreadMessage:{fileId:"incomingMessage",isSecondary:!0},ContactRequest:{fileId:"incomingMessage",isSecondary:!0}}}),c("webShell/Notifications/Listeners/SupportedTypes/Toast",["webShell/Events"],function(a){"use strict";function b(b){function c(){a.publish("hideMeApp"),b.accept("Video")}function d(){a.publish("hideMeApp"),b.accept()}var e,f,g;return e={acceptAudio:{bodyEvent:!0,eventName:"keydown",eventKeys:{altKey:!0,ctrlKey:!1,keyCode:33},action:d},acceptVideo:{bodyEvent:!0,eventName:"keydown",eventKeys:{altKey:!0,ctrlKey:!0,keyCode:33},action:c},declineCall:{bodyEvent:!0,eventName:"keydown",eventKeys:{altKey:!0,ctrlKey:!1,keyCode:34},action:b.decline}},f=[e.acceptAudio,e.declineCall],g=[e.acceptAudio,e.acceptVideo,e.declineCall],{avatarUrl:b.sender.avatar(),displayName:b.sender.displayName(),acceptWithVideo:"AudioWithoutVideo"===b.type?void 0:c,acceptWithAudio:d,reject:b.decline,actionShortcuts:"AudioWithoutVideo"===b.type?f:g}}function c(a){return{avatarUrl:a.sender.avatar(),displayName:a.sender.displayName(),callToAction:a.open,dismiss:function(){a.active(!1)}}}var d={};return d={Audio:{templateId:"shellToastCall",getToastData:b},incomingCallWithNoPlugin:{templateId:"shellToastCallNoPlugin",getToastData:c},AudioWithoutVideo:{templateId:"shellToastCallNoVideo",getToastData:b}}}),c("webShell/Notifications/Listeners/AppLevel",["webShell/Notifications/AppLevel"],function(a){"use strict";var b={},c={shellWarning:"warning",shellSuccess:"success",shellError:"error",shellInfo:"info"};return b.process=function(b){var d,e,f,g,h;c.hasOwnProperty(b.type)!==!1&&(d=c[b.type],e=b.description(),"function"==typeof b.open&&void 0!==b.title&&(f=b.open,g=b.title()),h=a.display(d,e,g,f),b.active.subscribe(function(b){b||a.dismiss(h)}))},b}),c("webShell/Notifications/Listeners/Browser",["webShell/Notifications/Listeners/SupportedTypes/Browser","webShell/Notifications/Browser"],function(a,b){"use strict";var c={};return c.process=function(c,d){var e,f;a.hasOwnProperty(c.type)!==!1&&(d===!1&&a[c.type].isSecondary===!0||"function"==typeof a[c.type].shouldBeDisplayed&&a[c.type].shouldBeDisplayed()===!1||(c.dismissBrowserNotification=function(){b.dismiss(f)},e=a[c.type].getNotificationData(c),f=b.display(e.title,e.message,e.imageUrl,e.notificationId,e.callbacks),c.active.subscribe(function(a){a||b.dismiss(f)})))},c}),c("webShell/Notifications/Listeners/Toast",["webShell/Notifications/Listeners/SupportedTypes/Toast","webShell/Notifications/Toast"],function(a,b){"use strict";var c={};return c.process=function(c){var d,e,f;a.hasOwnProperty(c.type)!==!1&&(d=a[c.type].templateId,e=a[c.type].getToastData(c),f=b.display(d,e),c.active.subscribe(function(a){a||b.dismiss(f)}))},c}),c("webShell/Notifications/Listeners/Sound",["webShell/Notifications/Listeners/SupportedTypes/Sound"],function(a,b){"use strict";var c={};return c.process=function(b,c){a.hasOwnProperty(b.type)!==!1&&(c===!1&&a[b.type].isSecondary===!0||b.sound&&"function"==typeof b.sound.play&&b.sound.play())},c}),c("vendor/localization/resources",[],function(){"use strict";function a(a){if(!a)throw new Error("[i18n / resources] Specified destination for localizations resources is not reachable");d=a}function b(){return d}var c,d;return c={set:a,get:b}}),c("vendor/localization/plurals",[],function(){"use strict";function a(a,b){b||(b=h);var c,g=null,j="";for(c in i)i[c].languages.indexOf(b)!==-1&&(g=c);switch(g){case"group0":j=1===a?d:e;break;case"group1":j=1===a?d:f;break;case"group2":j=a>1?f:d;break;case"group3":j=a%10===1&&a%100!==11?d:0===a?e:f;break;case"group4":j=1===a||11===a?d:2===a||12===a?e:f;break;case"group5":j=1===a?d:0===a||a%100>0&&a%100<20?e:f;break;case"group6":j=a%10===1&&a%100!==11?d:a%10>=2&&(a%100<10||a%100>=20)?f:e;break;case"group7":j=a%10===1&&a%100!==11?d:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?e:f;break;case"group8":j=1===a?d:a>=2&&a<=4?e:f;break;case"group9":j=1===a?d:a%10>=2&&a%10<=4&&(a%100<10||a%100>=20)?e:f;break;case"group11":j=1===a?d:a>=2&&a<=10?e:f;break;case"group12":j=1===a?d:2===a?e:f;break;default:j=""}return j}function b(a){h=a}var c,d="",e="_few",f="_many",g={af:"af",am:"am",ar:"ar",as:"as",az:"az",be:"be",bg:"bg",bn:"bn",bs:"bs",chr:"chr",cs:"cs",da:"da",de:"de",el:"el",en:"en",es:"es",et:"et",eu:"eu",fa:"fa",fi:"fi",fil:"fil",fr:"fr",ga:"ga",gd:"gd",gl:"gl",gu:"gu",ha:"ha",he:"he",hi:"hi",hr:"hr",hu:"hu",hy:"hy",id:"id",ig:"ig",is:"is",it:"it",iw:"iw",ja:"ja",ka:"ka",kk:"kk",km:"km",kn:"kn",ko:"ko",kok:"kok",ku:"ku",ky:"ky",lb:"lb",lt:"lt",lv:"lv",mi:"mi",ml:"ml",mn:"mn",mr:"mr",ms:"ms",ne:"ne",nl:"nl",nn:"nn",no:"no",nso:"nso",or:"or",pa:"pa",pl:"pl",prs:"prs",pt_BR:"pt-BR",pt_PT:"pt-PT",qps:"qps",qut:"qut",quz:"quz",ro:"ro",ru:"ru",rw:"rw",sd:"sd",si:"si",sk:"sk",sq:"sq",sr:"sr",sv:"sv",sw:"sw",ta:"ta",te:"te",tg:"tg",ti:"ti",tk:"tk",tn:"tn",tr_TR:"tr-TR",tt:"tt",ug:"ug",uk:"uk",ur:"ur",uz:"uz",vi:"vi",wo:"wo",xh:"xh",yo:"yo",zh:"zh",zu:"zu"},h=g.en,i={group0:{languages:[g.ja,g.id,g.ko,g.tr_TR,g.vi,g.zh,g.az,g.ig,g.fa,g.ka,g.km,g.kn,g.ms,g.prs,g.tt,g.ug,g.wo,g.yo]},group1:{languages:[g.bg,g.da,g.de,g.el,g.en,g.es,g.et,g.fi,g.he,g.hu,g.it,g.iw,g.nl,g.no,g.pt_PT,g.qps,g.sv,g.af,g.as,g.bn,g.chr,g.eu,g.gl,g.gu,g.ha,g.hy,g.is,g.kk,g.kok,g.ku,g.ky,g.lb,g.mi,g.ml,g.mn,g.mr,g.ne,g.nn,g.or,g.pa,g.qut,g.quz,g.rw,g.sd,g.si,g.sq,g.sw,g.ta,g.te,g.tk,g.tn,g.ur,g.xh,g.zu]},group2:{languages:[g.fr,g.pt_BR,g.am,g.fil,g.hi,g.nso,g.tg,g.ti,g.uz]},group3:{languages:[g.lv]},group4:{languages:[g.gd]},group5:{languages:[g.ro]},group6:{languages:[g.lt]},group7:{languages:[g.ru,g.uk,g.hr,g.sr,g.be,g.bs]},group8:{languages:[g.cs,g.sk]},group9:{languages:[g.pl]},group11:{languages:[g.ga]},group12:{languages:[g.ar]}};return c={getPluralSuffix:a,setLocale:b,pluralizationLocale:g}}),c("vendor/localization/localization",["vendor/localization/plurals","vendor/localization/resources"],function(a,b){"use strict";function c(a){var c=b.get();return c[a]||a}function d(b){if("object"!=typeof b)throw new Error("[i18n / localization] Argument must be type of object");var d,e,f,g,h,i=b.key;if(!i)throw new Error("[i18n / localization] Missing key");if(d=c(i),void 0!==b.count&&(e=b.count,b.params=b.params||{},b.params.count=e,f=a.getPluralSuffix(e,b.locale),i+=f),b.params){d=c(i);for(g in b.params)if(b.params.hasOwnProperty(g)){if(h=b.params[g],"function"==typeof h)throw new Error("[i18n / localization] Replacement value must not be a function");d=d.replace("{"+g+"}",h)}}return d}var e;return e={fetch:d}}),c("webShell/Localization",["vendor/localization/localization","vendor/localization/plurals","vendor/localization/resources"],function(a,b,c){"use strict";function d(a){var b,c,d=a.split(";;"),e={};for(c=0;c<d.length;c++)b=d[c].split("="),e[b.shift(1)]=b.join("=");return e}function e(a,b){var c,d,e,f=Object.keys(b);for(e=0;e<f.length;e++)c=f[e],d=h.getTranslation(b[c]),a.setAttribute(c,d)}function f(a){var b,c,e,f,g,i,j=a.querySelectorAll("[i18n]");for(i=0;i<j.length;i++)b=j[i],c=b.getAttribute("i18n"),e=b.getAttribute("i18n-params"),f=null,null!==e&&(f=d(e)),g=h.getTranslation(c,f),b.insertAdjacentHTML("afterbegin",g)}function g(a){var b,c,f,g,h=a.querySelectorAll("[i18n-attributes]");for(g=0;g<h.length;g++)b=h[g],c=b.getAttribute("i18n-attributes"),f=d(c),e(b,f)}var h={};return h.registerLocalizationMap=function(a){c.set(a)},h.setLocale=function(a){b.setLocale(a)},h.translateDomElement=function(a){f(a),g(a)},h.getTranslation=function(b,c){var d;return c&&void 0!==c.count&&(d=parseInt(c.count,10)),a.fetch({key:b,count:d,params:c})},h}),c("webShell/InitActions/AuthenticationMain",["webShell/Authentication","webShell/Notifications/AppLevel","webShell/Localization","webShell/Events","window"],function(a,b,c,d,e){"use strict";function f(){return a.userIsAuthenticated()!==!1||(a.requestAuthentication(),!1)}function g(b){m=!1,n=!a.authenticateViaToken(b)}function h(b){return o++,"timeout"!==b||o>=q?(m=!1,void(n=!0)):void a.refreshToken(g,h)}function i(){var d=a.getSessionExpiration();if(0===d)return void a.requestAuthentication();if(m!==!0)return d<t&&void 0===n?void a.requestAuthentication():d<r&&d>t&&n!==!0?(o=0,m=!0,n=void 0,void a.refreshToken(g,h)):p.halfHour.displayed===!1&&d<s?(b.dismiss(p.oneHour.id),b.display("warning",c.getTranslation("session_will_expire_30m"),c.getTranslation("reauthenticate"),a.logout),p.halfHour.displayed=!0,void(p.oneHour.displayed=!0)):p.oneHour.displayed===!1&&d<r?(p.oneHour.id=b.display("warning",c.getTranslation("session_will_expire_1h"),c.getTranslation("reauthenticate"),a.logout),void(p.oneHour.displayed=!0)):void 0}function j(){e.clearInterval(l)}function k(){f(),i()}var l,m,n,o,p={},q=5,r=3600,s=1800,t=300,u={};return p={oneHour:{displayed:!1,id:0},halfHour:{displayed:!1,id:0}},u.run=function(){return m=!1,n=void 0,o=0,f()!==!1&&(l=e.setInterval(k,3e4),d.subscribe("logout",j),!0)},u}),c("webShell/InitActions/ConfigUrls",["webShell/Config","document"],function(a,b){"use strict";function c(b){var c,d,e=Object.keys(a.Urls);for(d=0;d<e.length;d++)c=e[d],a.Urls[c]=a.Urls[c].replace("@@language",b)}var d={};return d.run=function(){var a=b.body.parentNode.getAttribute("lang");c(a)},d});var e=["webShell/Events","webShell/Notifications/Manager","webShell/Notifications/AppLevel","webShell/Notifications/Browser","webShell/Notifications/Toast","webShell/Notifications/Listeners/AppLevel","webShell/Notifications/Listeners/Browser","webShell/Notifications/Listeners/Toast","webShell/Notifications/Listeners/Sound","document"];c("webShell/InitActions/Notifications",e,function(a,b,c,d,e,f,g,h,i,j){"use strict";function k(){c.setNotificationsContainer(l),e.setToastsContainer(m),d.requestPermission(),b.addListener(f),b.addListener(g),b.addListener(h),b.addListener(i)}var l,m,n={};return n.run=function(){l=j.getElementById("notifications"),m=j.getElementById("toasts"),k(),a.subscribe("userPresenceChanged",function(a,c){b.secondaryNotificationsEnabled("online"===c.status)})},n}),c("webShell/InitActions/Localization",["webShell/Localization","webShell/Session","webShell/Locales","document","window"],function(a,b,c,d,e){"use strict";var f={};return f.run=function(){var f=d.getElementById("translations"),g=d.body.parentNode.getAttribute("lang"),h=c[g];a.registerLocalizationMap(e.JSON.parse(f.innerHTML.trim())),a.setLocale(g),b.set("language",g),b.set("locale",h)},f}),c("webShell/InitActions/Tracking",["webShell/Tracking","webShell/Session","webShell/Config"],function(a,b,c){"use strict";var d={};return d.run=function(){a.init(),a.setPlaceholderValue("LANGUAGE",b.get("language")),a.setPlaceholderValue("USER_HASHED_ID",b.get("hashedId")),a.setPlaceholderValue("PAGE_ID",c.Tracking.providerConfig.pageId)},d}),c("webShell/InitActions/SplashScreen",["window","document","webShell/Helpers","webShell/Events","webShell/Tracking","webShell/KeyboardNavigation","webShell/Config"],function(a,b,c,d,e,f,g){"use strict";function h(){var e=b.body;j!==!1&&(f.liftLastRestriction(),null!==l&&c.Ui.removeClass(l,"notVisible"),c.Ui.addClass(k,"splashScreenFade"),a.setTimeout(function(){null!==k.parentNode&&k.parentNode.removeChild(k)},400),e.tabIndex="-1",e.focus(),c.Ui.makePageVisibleForAT(),d.publish("splashScreenHidden"),j=!1)}var i,j=!0,k=b.getElementById("shellSplashScreen"),l=b.querySelector("#sideContainer .firstScreen"),m={};return m.run=function(){c.Ui.makePageInvisibleForAT(k),b.querySelector(".shellSplashLoading").focus(),f.restrictTabbing([k]),d.subscribe("pageRendered",function(){h(),a.clearTimeout(i)}),i=a.setTimeout(function(){h(),e.track("splashScreenTimedOut")},g.splashScreenDisplayTime)},m}),c("webShell/InitActions/ServerPing",["window","webShell/Session","webShell/Helpers","webShell/Config"],function(a,b,c,d){"use strict";function e(){var a=d.Urls.serverPingUrl,e={sessionId:b.get("sessionId")};c.Ajax.post(a).setHeader("X-Skypetoken",b.get("skypeToken")).sendForm(e)}var f={};return f.run=function(){e(),a.setInterval(e,3e5)},f}),c("webShell/InitActions/PlaceholderReplacement",["webShell/Config","webShell/Session","webShell/Helpers","document"],function(a,b,c,d){"use strict";function e(){var c=b.getSessionData();return c.pageId=a.pageId,c}function f(a,b,d){var e,f,g;for(g=0;g<b.length;g++)e=b[g],f=a.getAttribute(e),f=c.String.replacePlaceholders(f,d),a.setAttribute(e,f)}var g={};return g.run=function(){var a,b,c=d.querySelectorAll("[placeholders]"),g=e();for(b=0;b<c.length;b++)a=c[b].getAttribute("placeholders").split(";;"),f(c[b],a,g),c[b].removeAttribute("placeholders")},g}),c("webShell/InitActions/BookmarkNotification",["webShell/Helpers","webShell/Events","webShell/UserSettings","webShell/Localization","webShell/Notifications/AppLevel","webShell/Tracking","document","window"],function(a,b,c,d,e,f,g,h){"use strict";function i(){function i(a){h.external.AddFavorite(g.location.href,g.title),f.track("bookmarkAdded"),n=!1,e.dismiss(a)}var j,k,l,m,n=!0,o=e.getDisplayedNotifications(),p=Object.keys(o).length;0===p&&("MSIE"===a.Environment.browserName?j=e.display("info",d.getTranslation("get_back_to_skype"),d.getTranslation("add_skype_as_bookmark"),i):(l="Mac OS X"===a.Environment.OS?"Cmd":"Ctrl",m=d.getTranslation("get_back_to_skype_howto",{CTRL_KEY:l}),j=e.display("info",m)),f.track("bookmarkNotificationDisplayed"),k=b.subscribe("notificationDismissed",function(a,d){d===j&&(c.set("displayBookmarkNotification",!1),n===!0&&f.track("bookmarkNotificationDismissed"),b.unsubscribe(k))}))}function j(){k.componentsInitialized!==!1&&k.onboardingDone!==!1&&h.setTimeout(i,1e4)}var k={},l={};return l.run=function(){return c.get("displayBookmarkNotification")!==!1&&(k={componentsInitialized:!1,onboardingDone:!1},b.subscribe("pageRendered",function(){k.componentsInitialized=!0,j()}),b.subscribe("onboardingDone",function(){k.onboardingDone=!0,j()}),!0)},l});var f=["webShell/Config","webShell/Helpers","webShell/Events","webShell/Localization","webShell/Notifications/AppLevel"];c("webShell/InitActions/CookiesNotification",f,function(a,b,c,d,e){"use strict";function f(){var a=new Date;a.setTime(a.getTime()+158976e5),b.Cookie.setCookie(h.name,"cookiesconsented",h.domain,h.path,a.toGMTString())}function g(){e.display("info",d.getTranslation("cookies_consent"),d.getTranslation("read_more_about_cookies"),a.Urls.cookiesPrivacyUrl)}var h,i={};return i.run=function(){var d,e,i;return h=a.swaCookiesConsent,d=b.Cookie.hasCookie(h.name),i=a.downloadClientCookie,e=b.Cookie.hasCookie(i.name),d!==!0&&e!==!1&&(c.subscribe("splashScreenHidden",function(){f(),g()}),!0)},i});var g=["webShell/Config","webShell/Helpers","webShell/Events","webShell/Localization","webShell/Notifications/AppLevel"];c("webShell/InitActions/DownloadNotification",g,function(a,b,c,d,e){"use strict";function f(){var a=new Date;a.setTime(a.getTime()+158976e5),b.Cookie.setCookie(h.name,"clientDownloaded",h.domain,h.path,a.toGMTString())}function g(){e.display("info",d.getTranslation("download_client_notification"),d.getTranslation("download_client_notification_link"),a.Urls.downloadClientUrl)}var h,i,j,k={};return k.run=function(){var d;return i=["Windows","Mac OS X","Linux"],j=b.Environment.OS,h=a.downloadClientCookie,d=b.Cookie.hasCookie(h.name),d!==!0&&i.indexOf(j)!==-1&&(c.subscribe("splashScreenHidden",function(){f(),g()}),!0)},k}),c("webShell/InitActions/Logging",["webShell/Logger","performance","webShell/Events","window"],function(a,b,c,d){"use strict";function e(){var c=b.now()/1e3/60,d=Math.floor(100*c)/100;a.info("usageTime",d,"activeUser")}var f={};return f.run=function(){a.init(),c.subscribe("componentsInitialized",function(){e(),d.setInterval(e,3e5),a.submit()}),c.subscribe("pageRendered",function(b,c){a.info("renderingTime",c,"pageRendered")})},f}),c("webShell/InitActions/Eligibility",["webShell/Config","webShell/Eligibility"],function(a,b){"use strict";var c={};return c.run=function(c,d){return a.eligibilityCheck.enabled===!1?void c():void b.check(function(a,b){var e=200===b,f=406===b;return f?void d("wrongDevice"):e?void c():void d("notEligible")})},c}),c("webShell/InitActions/Components",["webShell/Config","webShell/Events","webShell/Components","webShell/Helpers","webShell/Logger","performance","window"],function(a,b,c,d,e,f,g){"use strict";function h(a){var b,c,d,g,h,i,j,k=a.split("/")[2],l="componentInitialized"+k;for(b={"webShell/Components/Me":{scriptTagInjected:"webshell_component_Me_scriptTagInjected",scriptLoaded:"webshell_component_Me_scriptLoaded",initCalled:"webshell_component_Me_initCalled",initSucceeded:"webshell_component_Me_initSucceeded"},"webShell/Components/SDK":{scriptTagInjected:"webshell_component_SDK_scriptTagInjected",scriptLoaded:"webshell_component_SDK_scriptLoaded",initCalled:"webshell_component_SDK_initCalled",initSucceeded:"webshell_component_SDK_initSucceeded"}},c=b[a],g=Object.keys(c),j=0;j<g.length;j++)h=g[j],d=c[h],i=f.getEntriesByName(d)[0].startTime,e.log(h,i,l,!0)}function i(a,c){var d,e,f=0;if(j.push(a),"function"==typeof c&&k.push(c),b.publish("componentInitialized",a),f=j.length,f===l){for(d=k.length,e=0;e<d;e++)k[e]();b.publish("componentsInitialized")}}var j=[],k=[],l=a.components.length,m={};return m.run=function(f){var j;void 0!==f&&(j=f.components),b.subscribe("componentInitFailed",function(b){e.log("componentName",b,"componentInitFailed"),g.setTimeout(function(){d.Url.redirect(a.Urls.Http500Url)},1500)}),b.subscribe("componentInitialized",function(a,b){h(b)}),c.inject(a.components,j,i)},m}),c("webShell/InitActions/Language",["webShell/Config","webShell/Helpers","webShell/Session","webShell/Helpers/Cookie","document"],function(a,b,c,d,e){"use strict";function f(){var a=o[m.selectedIndex].text;n.innerHTML=a}function g(c){var d;c!==l&&(d=b.String.replacePlaceholders(a.languageRedirectUrl,{language:c}),b.Url.redirect(d))}function h(b){var e=a.skypeCookie;c.set("language",b),d.setCookieValue(e.name,"LC",b,e.domain,e.path,e.maxAge)}function i(){var a=m.value;f(),h(a),g(a)}function j(){b.Ui.addClass(n,"focused")}function k(){b.Ui.removeClass(n,"focused")}var l,m,n,o,p={};return p.run=function(){var a;if(l=c.get("language"),m=e.getElementById("shellLanguageSelector"),n=e.getElementById("shellSelectedLanguage"),o=m.querySelectorAll("option"),void 0!==o){for(a=0;a<o.length;a++)if(o[a].value===l){m.selectedIndex=a;break}f(),h(l),b.Ui.bind(m,"change",i),b.Ui.bind(m,"focus",j),b.Ui.bind(m,"blur",k),b.Ui.bind(m,"mouseover",j),b.Ui.bind(m,"mouseout",k)}},p});var h=["webShell/Config","webShell/Helpers","webShell/Authentication","webShell/Events","webShell/UserSettings","webShell/Session","webShell/Tracking","webShell/Notifications/Title","document","window"];return c("webShell/Pages/Main",h,function(a,c,d,e,f,g,h,i,j,k){"use strict";function l(b){function f(){void 0!==g.get("openPstnPage")&&"function"==typeof b.calling.openPstnPage&&(b.calling.openPstnPage(),g.remove("openPstnPage"))}function h(){var a=g.get("skypeUri");void 0!==a&&"function"==typeof b.navigateBySkypeUri&&(b.navigateBySkypeUri(a),g.remove("skypeUri"))}function k(){l&&m!==!1&&b.newConversation()}var l,m=!1,n=b.getVersion(),o={sidebarPosition:"left"},p=j.getElementById("linkFooterFeedback");p.setAttribute("href",c.String.replacePlaceholders(p.getAttribute("href"),{swxVersion:n})),b.renderMe("#meComponent"),b.me.authenticated.subscribe(function(a){a===!1&&d.logout()}),b.renderSidebar("#timelineComponent",o),b.subscribeUI("swx:timeline:loaded",function(){var a=g.get("autoaction"),c="cc"===a;c&&(g.remove("autoaction"),b.startConversation([],[],function(a){a.isJoinable&&a.makeJoinable&&(a.isJoinable()||a.makeJoinable())})),f(),h()}),b.activity.unreadConversations.subscribe(function(b){if(0===b)return void i.reset();var c="("+b+") "+a.defaultPageTitle;i.display(c)}),b.calling.isPluginInstalled.subscribe(function(a){e.publish("pluginReadyChanged",a)}),e.subscribe("startPluginInstall",function(){b.calling.startPluginInstall()}),b.me.numberOfNonAgentContacts.subscribe(function(a){e.publish("numberOfContactsUpdated",a)}),g.remove("threadId"),g.get("newConversation")&&void 0!==b.newConversation&&(b.subscribeUI("swx:content:loaded",function(){m=!0,k()}),b.me.numberOfNonAgentContacts.subscribe(function(a){void 0===l&&(l=a>0,l===!0&&k())}),g.remove("newConversation"))}function m(){var a,d,f=["webShell/InitActions/Localization","webShell/InitActions/Notifications","webShell/InitActions/AuthenticationMain","webShell/InitActions/Tracking","webShell/InitActions/Logging","webShell/InitActions/Components","webShell/InitActions/SplashScreen","webShell/InitActions/ServerPing","webShell/InitActions/PlaceholderReplacement","webShell/InitActions/BookmarkNotification","webShell/InitActions/CookiesNotification","webShell/InitActions/DownloadNotification","webShell/InitActions/Language"];for(void 0===g.get("sessionId")&&g.set("sessionId",c.Encoding.guidCreate()),d=0;d<f.length;d++)a=b(f[d]),a.run(o);e.subscribe("timelineLoaded",function(a,b){e.publish("pageRendered",b)}),h.track("pageVisited")}function n(b){switch(b){case"wrongDevice":c.Url.redirect(a.Urls.wrongDeviceUrl);break;default:c.Url.redirect(a.Urls.notAllowedUrl)}}var o={},p={};return o.components={SDK:{success:l}},p.run=function(){var e,h,i=b("webShell/InitActions/Eligibility"),j=b("webShell/InitActions/ConfigUrls");return j.run(),d.userIsAuthenticated()===!1?(e=a.Urls.loginUrl+k.encodeURIComponent(k.location.search),h=c.Security.createCsrfToken(),e=c.Url.addParam(e,"state",h,!0),void c.Url.redirect(e)):d.userIsGuest()===!0?void c.Url.redirect(a.Urls.guestUrl):(f.setUser(g.get("skypeId")),void i.run(m,n))},c.Page.init(p),p}),c("webShell/Logger",["webShell/Config"],function(a){"use strict";function c(){var a,b,c,d=Object.keys(e);for(c=0;c<d.length;c++)for(a=d[c];0!==e[a].length;)b=e[a].shift(),f[a].apply(null,b)}function d(){h=!0,c()}var e,f,g=!1,h=!1,i={};return e={log:[],info:[],warning:[],error:[]},i.log=function(a,b,c,d){if(g!==!1)return h===!1?void e.log.push(arguments):void f.log(a,b,c,d)},i.info=function(a,b,c,d){if(g!==!1)return h===!1?void e.info.push(arguments):void f.info(a,b,c,d)},i.warning=function(a,b,c,d){if(g!==!1)return h===!1?void e.warning.push(arguments):void f.warning(a,b,c,d)},i.error=function(a,b,c,d){if(g!==!1)return h===!1?void e.error.push(arguments):void f.error(a,b,c,d)},i.submit=function(a){g!==!1&&f.submit(a)},i.init=function(a){f.init(function(){d(),void 0!==a&&a()})},void 0!==a.Logger&&void 0!==a.Logger.provider&&(f=b(a.Logger.provider),g=!0),i}),c("webShell/Config/Aria",["webShell/Config","webShell/Helpers"],function(a,b){"use strict";var c={};return c.url="https://s4w.cdn.skype.com/0-239-0/js/aria-web-telemetry-2.5.0.min.js",c.commonEventProperties={environment:a.Logger.providerParams.environmentId,page:a.Logger.providerParams.pageId,user_agent_name:b.Environment.browserName,user_agent_version:b.Environment.browserVersion,user_OS:b.Environment.OS,user_OS_version:b.Environment.OSVersion},c.datasets={componentInitializedSDK:{eventName:"shellComponents",eventProperties:{componentName:"SDK",name:"Initialized",failureType:""}},componentLoadFailed:{eventName:"shellComponents",eventProperties:{name:"Failed",failureType:"load"}},componentInitFailed:{eventName:"shellComponents",eventProperties:{name:"Failed",failureType:"init"}},activeUser:{eventName:"shellActiveUser",eventProperties:{}},pageRendered:{eventName:"shellPageReady",eventProperties:{}},userActions:{eventName:"shellUserAction",eventProperties:{}},uiReadiness:{eventName:"shellUiReadiness",eventProperties:{}},adminUiState:{eventName:"shellAdminUiState",eventProperties:{}}},c}),c("webShell/LoggerProviders/Aria",["webShell/Config","webShell/Config/Aria","webShell/Helpers","webShell/Session","document","window"],function(a,b,c,d,e,f){"use strict";function g(a){var c,e,g,h,i=d.get("externalSessionId"),j=Object.keys(l[a]),k=Object.keys(b.commonEventProperties),m=Object.keys(b.datasets[a].eventProperties);if(0!==j.length&&void 0!==b.datasets[a]){for(c=new f.microsoft.applications.telemetry.EventProperties,c.name=b.datasets[a].eventName,h=0;h<k.length;h++)e=k[h],g=b.commonEventProperties[e],c.setProperty(e,g);for(h=0;h<m.length;h++)e=m[h],g=b.datasets[a].eventProperties[e],c.setProperty(e,g);for(h=0;h<j.length;h++)e=j[h],g=l[a][e],c.setProperty(e,g.toString());return c.setProperty("session_id",d.get("sessionId")),c.setProperty("username",d.get("skypeId"),f.microsoft.applications.telemetry.datamodels.PIIKind.Identity),c.setProperty("Skype_InitiatingUser_Username",d.get("skypeId")),c.setProperty("language",d.get("language")),void 0!==i&&c.setProperty("external_session_id",i),c}}function h(a){void 0!==a&&k.logEvent(a)}function i(a){var b=g(a);h(b),l[a]={}}function j(a,b,c,d){void 0===l[c]&&(l[c]={}),l[c][a]=b,d!==!0&&i(c)}var k,l={},m={};return m.log=function(a,b,c,d){j(a,b,c,d)},m.info=function(a,b,c,d){j(a,b,c,d)},m.warning=function(a,b,c,d){
j(a,b,c,d)},m.error=function(a,b,c,d){j(a,b,c,d)},m.submit=function(a){var b,c=Object.keys(l);if(void 0!==a)return void i(a);for(b=0;b<c.length;b++)i(c[b])},m.init=function(d){c.Page.injectScript(b.url,function(){f.microsoft.applications.telemetry.LogManager.initialize(a.Logger.providerConfig.tenantToken),k=new f.microsoft.applications.telemetry.Logger,d()})},m}),c("webShell/Tracking",["webShell/Config"],function(a){"use strict";function c(){for(var a;0!==h.length;)a=h.shift(),e.track(a)}function d(){g=!0,c()}var e,f=!1,g=!1,h=[],i={};return i.track=function(a){if(f!==!1)return g===!1?void h.push(a):void e.track(a)},i.setPlaceholderValue=function(a,b){e.setPlaceholderValue(a,b)},i.init=function(a){e.init(function(){d(),void 0!==a&&a()})},i.addEvents=function(a){return e.addEvents(a)},void 0!==a.Tracking&&(e=b(a.Tracking.provider),f=!0),i}),c("webShell/Config/WEDCS",["webShell/Config","webShell/Helpers"],function(a,b){"use strict";var c={};return c.url="https://s4w.cdn.skype.com/0-239-0/js/wedcs.min.js",c.globalVariables={varSegmentation:0,varClickTracking:0,varCustomerTracking:1,varAutoFirePV:0,Route:"60001",Ctrl:""},c.commonParams={"ms.prod":"Skype","ms.env":a.env,"ms.rwd":b.Environment.onMobileBrowser?"mobile":"desktop","ms.skype_userhash":"{USER_HASHED_ID}"},c.eventParams={pageVisited:"wcs.cot,0,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,{PAGE_ID}",ErrorPage404Visited:"wcs.cot,0,ms.pageType,ms.lang,{LANGUAGE},webclient,ms.skypepn,webclient/400",ErrorPage500Visited:"wcs.cot,0,ms.pageType,ms.lang,{LANGUAGE},webclient,ms.skypepn,webclient/500",ErrorPageBusyVisited:"wcs.cot,0,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,webclient/busy",ErrorPageNotAllowedVisited:"wcs.cot,0,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,webclient/notAllowed",ErrorPageWrongDeviceVisited:"wcs.cot,0,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,webclient/wrongDevice",bookmarkNotificationDisplayed:"wcs.cot,5,ms.interactiontype,1,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,webclient/meApp,ms.ea_offer,Client: Profile,ms.ea_action,Pop-up suggest add as as bookmark: Display,ms.cid,2205",bookmarkNotificationDismissed:"wcs.cot,5,ms.interactiontype,1,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,{PAGE_ID},ms.ea_offer,Client: System,ms.ea_action,Pop-up suggest add as as bookmark: Dismiss,ms.cid,2206",bookmarkAdded:"wcs.cot,5,ms.interactiontype,1,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,{PAGE_ID},ms.ea_offer,Client: System,ms.ea_action,Pop-up suggest add as as bookmark: Add,ms.cid,2204",incomingCallBrowserNotificationDisplayed:"wcs.cot,5,ms.interactiontype,1,ms.pageType,webclientms.lang,{LANGUAGE},,ms.skypepn,{PAGE_ID},ms.ea_offer,Client Notification,ms.ea_action,Browser Notification for incoming call displayed,ms.cid,7003",incomingCallBrowserNotificatioClicked:"wcs.cot,5,ms.interactiontype,1,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,{PAGE_ID},ms.ea_offer,Client Notification,ms.ea_action,Browser Notification for incoming call clicked,ms.cid,7004",incomingMessageNotificatioDisplayed:"wcs.cot,5,ms.interactiontype,1,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,{PAGE_ID},ms.ea_offer,Client Notification,ms.ea_action,Browser Notification for IM displayed,ms.cid,7001",incomingMessageNotificatioClicked:"wcs.cot,5,ms.interactiontype,1,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,{PAGE_ID},ms.ea_offer,Client Notification,ms.ea_action,Browser Notification for IM clicked,ms.cid,7002",splashScreenTimedOut:"wcs.cot,5,ms.interactiontype,1,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,{PAGE_ID},ms.ea_offer,Client System: Loading screen Max,ms.ea_action,Loading screen displayed for max time,ms.cid,9001",createAccountClicked:"wcs.cot,5,ms.interactiontype,1,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,{PAGE_ID},ms.ea_offer,Client: Guest Links,ms.ea_action,Create Account,ms.cid,2701",signInClicked:"wcs.cot,5,ms.interactiontype,1,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.skypepn,{PAGE_ID},ms.ea_offer,Client: Guest Links,ms.ea_action,Sign in,ms.cid,2702",guestHostUsersWrongDevice:"wcs.cot,0,ms.interactiontype,1,ms.pageType,webclient,ms.lang,{LANGUAGE},ms.ea_offer,Guest Host Users Wrong Device Page View,ms.skypepn,webclient/wrongDevice"},c}),c("webShell/TrackingProviders/WEDCS",["webShell/Config/WEDCS","webShell/Helpers","window"],function(a,b,c){"use strict";function d(){var b,d,e=a.globalVariables,f=Object.keys(e);for(d=0;d<f.length;d++)b=f[d],c[b]=e[b]}function e(a){var b,c,d,e=Object.keys(a),f=[];for(d=0;d<e.length;d++)b=e[d],c=typeof a[b],"string"!==c&&"number"!==c?"function"===c&&(f.push(b),f.push(a[b]())):(f.push(b),f.push(a[b]));return f.join(",")}var f="",g={},h=a.eventParams,i={};return i.init=function(c){f=e(a.commonParams),d(),b.Page.injectScript(a.url,c)},i.track=function(a){var d;return void 0!==h[a]&&(d=f+","+b.String.replacePlaceholders(h[a],g),c.MscomCustomEvent.apply(c,d.split(",")),!0)},i.setPlaceholderValue=function(a,c){g[a]=c,f=b.String.replacePlaceholders(f,g)},i.addEvents=function(a){return"object"==typeof a&&(h=b.Obj.extend(h,a),!0)},i}),c("webShell/Config",[],function(){"use strict";var a={};return a.env="production",a.pageId="main",a.defaultPageTitle="Skype",a.eligibilityCheck={enabled:!0,url:"https://web.skype.com/api/v2/eligibility-check"},a.featureSwitchCheck={enabled:!0,url:"https://web.skype.com/api/v1/feature-switches"},a.facebook={applicationId:"260273468396"},a.favicon={default:"https://s4w.cdn.skype.com/0-239-0/images/favicon.ico",orangeDot:"https://s4w.cdn.skype.com/0-239-0/images/favicon_unread_messages.ico"},a.supportedLanguages="en,ar,bg,cs,da,de,el,es,et,fi,fr,he,hi,hu,id,it,ja,ko,nl,no,pl,pt,pt-br,ro,ru,sv,tr,uk,zh-Hans,zh-Hant".split(","),a.Urls={loginUrlBase:"https://login.skype.com/login?client_id=578134",loginUrl:"https://login.skype.com/login?client_id=578134&redirect_uri=https%3A%2F%2Fweb.skype.com",logoutUrl:"https://login.skype.com/logout?client_id=578134&redirect_uri=https%3A%2F%2Fweb.skype.com&intsrc=client-_-webapp-_-production-_-go-signin",mainUrl:"https://web.skype.com/@@language/",guestUrl:"https://web.skype.com/@@language/guest",Http404Url:"https://web.skype.com/@@language/404",Http500Url:"https://web.skype.com/@@language/error",notAllowedUrl:"https://web.skype.com/@@language/notAllowed",wrongDeviceUrl:"https://web.skype.com/@@language/wrongDevice",myaccountUrl:"https://secure.skype.com",serverPingUrl:"https://web.skype.com/api/v1/session-ping",cookiesPrivacyUrl:"https://go.skype.com/privacy/",downloadClientUrl:"https://go.skype.com/download"},a.languageRedirectUrl="https://web.skype.com/{language}/",a.languageSetApi="https://api.skype.com/users/{username}/language",a.skypeCookie={name:"SC",path:"/",maxAge:7776e3,domain:".skype.com"},a.swaCookiesConsent={name:"SWACC",path:"/",domain:".skype.com"},a.downloadClientCookie={name:"SWADCC",path:"/",domain:".skype.com"},a.csrfCookie={name:"CSRFT",path:"/",domain:".skype.com"},a.modalities=["Chat","Video","Audio"],a.components=[{name:"webShell/Components/SDK",url:"https://swx.cdn.skype.com/shared/v/1.2.24/SkypeBootstrap.min.js",breakCache:!0,params:{apiKey:"skype.com",environment:""},versioning:{desiredVersion:"",componentQueryParam:"version"}}],a.splashScreenDisplayTime=2e4,a.Logger={provider:"webShell/LoggerProviders/Aria",providerConfig:{tenantToken:"b3feec0104db486283291fdc2b6ae19a-57e9771a-4c05-4cc4-b184-f782db731a87-7107"},providerParams:{environmentId:"",pageId:"main"}},a.Tracking={provider:"webShell/TrackingProviders/WEDCS",providerConfig:{pageId:"webclient/main"}},a.FlagsApi={url:"https://flagsapi.skype.com/flags/v1"},a.tokenHandoverAllowed=!1,a.silentLogin={env:"live",client_id:"578134",redirect_uri:"https://web.skype.com",microsoft:!1},a}),{MainPage:b("webShell/Pages/Main")}}();
/**
 * @license
This file is based on or incorporates material from the projects listed below (collectively, Third Party Code). Skype is not the original author of the Third Party Code. The original copyright notice and the license, under which Skype received such Third Party Code, are set forth below. Such licenses and notices are provided for informational purposes only. Skype, not the third party, licenses the Third Party Code to you under the terms set forth in the Terms of Use for the Skype Product. Skype reserves all other rights not expressly granted under this agreement, whether by implication, estoppel or otherwise.

almond 0.2.9

Copyright (c) 2010-2011, The Dojo Foundation

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.

base_64decode

Copyright (c) 2013 Kevin van Zonneveld (http://kvz.io)
and Contributors (http://phpjs.org/authors)

 Provided for Informational Purposes Only
 MIT License

 Permission is hereby granted, free of charge, to any person obtaining
 a copy of this software and associated documentation files (the
 "Software"), to deal in the Software without restriction, including
 without limitation the rights to use, copy, modify, merge, publish,
 distribute, sublicense, and/or sell copies of the Software, and to
 permit persons to whom the Software is furnished to do so, subject to
 the following conditions:
 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.

murmurhash.js

Copyright (c) 2011 Gary Court

 Provided for Informational Purposes Only
 MIT License

 Permission is hereby granted, free of charge, to any person obtaining
 a copy of this software and associated documentation files (the
 "Software"), to deal in the Software without restriction, including
 without limitation the rights to use, copy, modify, merge, publish,
 distribute, sublicense, and/or sell copies of the Software, and to
 permit persons to whom the Software is furnished to do so, subject to
 the following conditions:
 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
